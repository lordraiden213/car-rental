{% extends "base.html" %}
{% block title %}Forgot Password - Thrifty Road{% endblock %}

{% block content %}
<section class="forgot-password-section">
    <div class="container">
        <h2 class="section__header">Forgot Password</h2>
        <p class="section__description">
            Enter your registered email address and your birthday for verification. Weâ€™ll send you a link to reset your password.
        </p>

        <form action="{{ url_for('forgot_password') }}" method="POST" class="form">
            <div class="input-group">
                <label for="email"><i class="ri-mail-line"></i> Email Address</label>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
            </div>
            <div class="input-group">
                <label for="verification">Verification</label>
                <br>
                <i class="ri-calendar-line"></i>
                <label for="birthday">Birthday</label>
                <input type="date" id="birthday" name="birthday" required>
                <input type="hidden" id="age" name="age">
            </div>
            
            <button type="submit" class="btn">Send Reset Link</button>
            <p>Remembered your password? <a href="{{ url_for('login') }}">Back to login</a></p>
        </form>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    Swal.fire({
                        icon: "{{ 'success' if category == 'success' else 'error' if category == 'danger' else 'info' }}",
                        title: "{{ message }}",
                        timer: 3000,
                        showConfirmButton: false,
                        position: 'top'
                    });
                {% endfor %}
            {% endif %}
        {% endwith %}
    });
</script>

<style>
    .forgot-password-section {
        padding: 4rem 0;
        background-color: #f9f9f9;
    }

    .forgot-password-section .container {
        max-width: 600px;
        margin: auto;
        background: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .form .input-group {
        margin-bottom: 1.5rem;
    }

    .form .input-group input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .form .btn {
        width: 100%;
        padding: 0.75rem;
        background-color: #1e90ff;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 1rem;
        cursor: pointer;
    }

    .form p {
        text-align: center;
        margin-top: 1rem;
    }

    .form a {
        color: #1e90ff;
    }
</style>
{% endblock %}
